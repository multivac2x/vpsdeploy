# Story 4.9: Caddy Already Running on Different Port

**Epic:** Epic 4 - Error Handling and Edge Cases
**Priority:** Should-have

## Description

Verify behavior when Caddy is already installed but configured differently.

## Acceptance Criteria

- [x] Caddy installed but Caddyfile exists from manual setup
- [x] `setup-vps.sh` backs up existing Caddyfile before overwriting
- [x] Backup saved with timestamp
- [x] New Caddyfile generated from registry
- [x] Caddy reloaded with new config
- [x] Old config available in backups/

## Dependencies

Story 1.17

## Testing Notes

```bash
# On VPS, manually create a custom Caddyfile
sudo tee /etc/caddy/Caddyfile << 'EOF'
# Custom manual config
example.com {
    respond "Hello from manual config"
}
EOF

# Run setup-vps.sh
./setup-vps.sh --dry-run --verbose

# Should show backup being created
# After execution, check backups
ssh deploy@vps "ls /etc/caddy/backups/"
# Should show timestamped backup of original Caddyfile
```
