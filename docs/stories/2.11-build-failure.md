# Story 2.11: Build Failure

**Epic:** Epic 2 - deploy.sh Core Functionality Testing
**Priority:** Must-have

## Description

Verify script handles build command failure gracefully.

## Acceptance Criteria

- [x] If `BUILD_CMD` exits with non-zero status, script exits immediately
- [x] Error message: "Build failed" (or actual build error output)
- [x] No deploy attempted
- [x] Exit code reflects build failure

## Dependencies

Story 2.3

## Testing Notes

```bash
# Introduce error in build (e.g., syntax error in next.config.js)
cat > next.config.js << 'EOF'
invalid json
EOF

cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=your.vps.ip
DOMAIN=example.com
DOMAIN_TYPE=static
EOF

./deploy.sh
echo $?  # Should be non-zero (build failure)
```
