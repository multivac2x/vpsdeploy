# Story 1.6: Configuration Validation - Invalid DOMAIN_PORT

**Epic:** Epic 1 - setup-vps.sh Core Functionality Testing
**Priority:** Must-have

## Description

Validate port number range and format.

## Acceptance Criteria

- [x] Port < 1024 or > 65535 → error "DOMAIN_PORT must be an integer between 1024 and 65535", exit code 1
- [x] Non-numeric port → error about port validation, exit code 1
- [x] Port at boundaries (1024, 65535) → accepted and proceed
- [x] Port within valid range (e.g., 3000) → accepted

## Dependencies

Story 1.1

## Testing Notes

```bash
# Port too low
cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=164.90.xxx.xxx
DOMAIN=example.com
DOMAIN_TYPE=dynamic
DOMAIN_PORT=80
EOF
./setup-vps.sh --dry-run
echo $?  # Should be 1

# Port too high
cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=164.90.xxx.xxx
DOMAIN=example.com
DOMAIN_TYPE=dynamic
DOMAIN_PORT=99999
EOF
./setup-vps.sh --dry-run
echo $?  # Should be 1

# Non-numeric
cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=164.90.xxx.xxx
DOMAIN=example.com
DOMAIN_TYPE=dynamic
DOMAIN_PORT=abc
EOF
./setup-vps.sh --dry-run
echo $?  # Should be 1

# Valid boundaries
cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=164.90.xxx.xxx
DOMAIN=example.com
DOMAIN_TYPE=dynamic
DOMAIN_PORT=1024
EOF
./setup-vps.sh --dry-run
echo $?  # Should be 0

cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=164.90.xxx.xxx
DOMAIN=example.com
DOMAIN_TYPE=dynamic
DOMAIN_PORT=65535
EOF
./setup-vps.sh --dry-run
echo $?  # Should be 0
```
