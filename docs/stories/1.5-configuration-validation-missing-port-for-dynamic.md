# Story 1.5: Configuration Validation - Missing DOMAIN_PORT for Dynamic

**Epic:** Epic 1 - setup-vps.sh Core Functionality Testing
**Priority:** Must-have

## Description

Ensure `DOMAIN_PORT` is required when `DOMAIN_TYPE=dynamic`.

## Acceptance Criteria

- [x] With `DOMAIN_TYPE=dynamic` and no `DOMAIN_PORT`, script exits with code 1
- [x] Error message: "DOMAIN_PORT is required for dynamic domains"
- [x] With `DOMAIN_TYPE=static` and `DOMAIN_PORT` set, script proceeds (port is ignored)

## Dependencies

Story 1.1

## Testing Notes

```bash
# Missing port with dynamic
cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=164.90.xxx.xxx
DOMAIN=example.com
DOMAIN_TYPE=dynamic
EOF

./setup-vps.sh --dry-run
echo $?  # Should be 1

# Port with static should be OK
cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=164.90.xxx.xxx
DOMAIN=example.com
DOMAIN_TYPE=static
DOMAIN_PORT=3000
EOF

./setup-vps.sh --dry-run
echo $?  # Should be 0
```
