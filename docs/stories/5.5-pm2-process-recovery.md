# Story 5.5: PM2 Process Recovery

**Epic:** Epic 5 - VPS Deployment Scenarios and Operations
**Priority:** Must-have

## Description

Verify PM2 startup and recovery after VPS reboot.

## Acceptance Criteria

- [ ] Dynamic domain running with PM2
- [ ] `pm2 startup` has been configured
- [ ] Reboot VPS: `sudo reboot`
- [ ] After reboot, check `systemctl status pm2-deploy` (or similar)
- [ ] PM2 service starts automatically
- [ ] Check `pm2 list` shows app in "online" status
- [ ] If app not started, `pm2 resurrect` may be needed (document behavior)

## Dependencies

Story 1.21

## Testing Notes

```bash
# 1. Ensure dynamic domain is running via PM2
ssh deploy@vps "pm2 list | grep example.com"
# Should show online

# 2. Check startup configured
ssh deploy@vps "systemctl is-enabled pm2-deploy"
# Should show: enabled

# 3. Reboot VPS
ssh deploy@vps "sudo reboot"

# 4. Wait for reboot, then reconnect
# 5. Check PM2 service
ssh deploy@vps "systemctl status pm2-deploy"
# Should show: active (running)

# 6. Check app process
ssh deploy@vps "pm2 list | grep example.com"
# Should show online

# If app not started, try: ssh deploy@vps "pm2 resurrect"
```
