# Story 4.8: Concurrent Execution Safety

**Epic:** Epic 4 - Error Handling and Edge Cases
**Priority:** Could-have

## Description

Document and test potential race conditions.

## Acceptance Criteria

- [ ] Document that script is NOT designed for concurrent execution
- [ ] If two instances run simultaneously, registry may corrupt
- [ ] No locking mechanism implemented (by design for simplicity)
- [ ] Recommendation: serialize runs (e.g., via CI/CD pipeline)
- [ ] Test: running two instances in parallel shows unpredictable results (document observed behavior)

## Dependencies

Story 1.10 (registry write)

## Testing Notes

```bash
# Start two instances simultaneously
./setup-vps.sh &
./setup-vps.sh &

# Wait for both to complete
wait

# Check registry integrity
ssh deploy@vps "sudo cat /etc/caddy/domains.json" | jq .

# May show corrupted JSON or lost updates
# Document observed behavior and recommend against concurrent use
```
