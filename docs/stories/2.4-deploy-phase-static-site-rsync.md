# Story 2.4: Deploy Phase - Static Site Rsync

**Epic:** Epic 2 - deploy.sh Core Functionality Testing
**Priority:** Must-have

## Description

Verify static site files are rsynced to correct VPS location.

## Acceptance Criteria

- [ ] Target path: `${VPS_BASE_PATH}/${DOMAIN}/` (default: `/var/www/example.com/`)
- [ ] Rsync command: `rsync -az --delete ${BUILD_OUTPUT}/ ${VPS_USER}@${VPS_IP}:${VPS_BASE_PATH}/${DOMAIN}/`
- [ ] SSH connection tested before rsync (timeout 10s, batch mode)
- [ ] Remote directory created if missing (`mkdir -p`)
- [ ] With `--dry-run`, rsync uses `--dry-run` flag and no files transferred
- [ ] With `--verbose`, rsync shows detailed transfer progress
- [ ] After successful rsync, prints verification URL: `https://${DOMAIN}`

## Dependencies

Stories 2.2, 2.3

## Testing Notes

```bash
cat > .env.deploy << 'EOF'
VPS_USER=deploy
VPS_IP=your.vps.ip
DOMAIN=example.com
DOMAIN_TYPE=static
EOF

./deploy.sh --dry-run --verbose 2>&1 | grep "rsync"
# Should show: rsync -az --delete --dry-run -e "ssh -p 22" out/ deploy@your.vps.ip:/var/www/example.com/
```
